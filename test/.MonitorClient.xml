<?xml version='1.0'?>
<xc:Partition xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  xmlns:soapenc="http://schemas.xmlsoap.org/soap/encoding/" xmlns:xc="http://xdaq.web.cern.ch/xdaq/xsd/2004/XMLConfiguration-30">

  <i2o:protocol xmlns:i2o="http://xdaq.web.cern.ch/xdaq/xsd/2004/I2OConfiguration-30">
    <i2o:target class="evf::FUEventProcessor"  instance="0" tid="30" />
  </i2o:protocol>

  <xc:Context url="http://.lhost:.lport">

    <xc:Endpoint hostname=".lhost" network="tcp1" port="30000" protocol="tcp" service="i2o"></xc:Endpoint>

    <xc:Application class="PeerTransportTCP" id="20" network="local" instance="0">
      <properties xmlns="urn:xdaq-application:PeerTransportTCP" xsi:type="soapenc:Struct">
        <autoSize xsi:type="xsd:boolean">true</autoSize>
        <maxPacketSize xsi:type="xsd:unsignedLong">65536</maxPacketSize>
        <!-- poolName xsi:type="xsd:string">RoundtripSendPool</poolName -->
      </properties>
    </xc:Application>

    <xc:Application class="evf::FUEventProcessor" id="23" instance="0" network="local">
      <properties xmlns="urn:xdaq-application:FUEventProcessor" xsi:type="soapenc:Struct">
        <collectorAddr xsi:type="xsd:string">.rhost</collectorAddr>
        <collectorPort xsi:type="xsd:integer">.rport</collectorPort>
        <parameterSet xsi:type="xsd:string">
               process CLIENT = {
        module ecalMonitorClient = EcalBarrelMonitorClient{
        untracked string outputFile = 'EcalBarrelMonitorClient.root'
        untracked string location = "H4"
        untracked string baseHtmlDir = "."
        untracked bool enableSubRun = true
        untracked bool enableExit = false
        untracked string hostName = ".rhost"
        untracked int32  hostPort = .rport
        untracked bool verbose = true
        untracked vint32 superModules = { 01 }
      }

      path p = { ecalMonitorClient }

      source = DummySource{
        untracked int32 maxEvents = -1
      }

      service = MessageLogger{
        untracked vstring destinations = { "cout" }
        untracked vstring categories = { "EcalBarrelClient" }

        untracked PSet cout = {
          untracked string threshold = "INFO"
          untracked PSet default = { untracked int32 limit = 0 }
          untracked PSet EcalBarrelClient = { untracked int32 limit = 0 }
          untracked bool noTimeStamps = true
          untracked bool noLineBreaks = true
                              }
      }
        		         }
             </parameterSet>
        </properties>
      </xc:Application>

      <xc:Module>${XDAQ_ROOT}/lib/linux/x86/libpttcp.so</xc:Module>
      <xc:Module>/cms/software/Releases/CMSSW/CMSSW_0_7_0/lib/slc3_ia32_gcc323/libEventFilterProcessor.so</xc:Module>

  </xc:Context>

</xc:Partition>
